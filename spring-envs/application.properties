# =============================================================================
# APPLICATION.PROPERTIES - COMMON CONFIGURATION
# =============================================================================
# File này chứa các config chung cho TẤT CẢ môi trường (test, production)
# KHÔNG đặt spring.profiles.active ở đây - profile sẽ được inject từ Jenkins
# =============================================================================

# Application Info
spring.application.name=lendbiz-apigateway
server.port=9200
server.servlet.context-path=/
server.forward-headers-strategy=framework

# Logging
logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG
logging.file.path=logs
logging.level.root=info
logging.level.com.technology.apigateway=info
logging.level.org.docx4j=OFF

# Jasypt Encryption
jasypt.encryptor.password=lendbiZ@2023
jasypt.encryptor.algorithm=PBEWithMD5AndDES

# JPA/Hibernate Common Config
spring.jpa.properties.hibernate.proc.param_null_passing=true
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect

# Datasource Driver
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# Kafka Common Config (Serialization/Deserialization)
spring.kafka.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.value-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer

# Kafka Producer Config
spring.kafka.producer.properties.max.request.size=1048576
spring.kafka.producer.properties.message.max.bytes=1048576
spring.kafka.producer.properties.max.partition.fetch.bytes=1048576

# File Upload
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Flyway Common Config
spring.flyway.baseline-version=1.0.0
spring.flyway.baseline-on-migrate=true
spring.flyway.enabled=true
spring.flyway.validate-on-migrate=false
spring.flyway.clean-disabled=true

# OpenAPI/Swagger
springdoc.api-docs.path=/api-docs

# Contract/Hash Config
contract.hashids.salt=DEASNg0xm/*+(fuYblBwMrlu1hhFAs._
contract.hashids.min-length=12